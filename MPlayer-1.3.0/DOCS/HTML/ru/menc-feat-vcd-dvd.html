<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>7.8. Использование MEncoder для создания VCD/SVCD/DVD-совместимых файлов.</title><link rel="stylesheet" type="text/css" href="default.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="MPlayer - Медиа Проигрыватель"><link rel="up" href="encoding-guide.html" title="Глава 7. Кодирование с MEncoder"><link rel="prev" href="menc-feat-quicktime-7.html" title="7.7. Использование MEncoder для создания совместимых с QuickTime файлов"><link rel="next" href="faq.html" title="Глава 8. Часто Задаваемые вопросы"><link rel="preface" href="howtoread.html" title="Как читать эту документацию"><link rel="chapter" href="intro.html" title="Глава 1. Введение"><link rel="chapter" href="install.html" title="Глава 2. Установка"><link rel="chapter" href="usage.html" title="Глава 3. Использование"><link rel="chapter" href="video.html" title="Глава 4. Устройства вывода видео"><link rel="chapter" href="ports.html" title="Глава 5. Портинг"><link rel="chapter" href="mencoder.html" title="Глава 6. Основы использования MEncoder"><link rel="chapter" href="encoding-guide.html" title="Глава 7. Кодирование с MEncoder"><link rel="chapter" href="faq.html" title="Глава 8. Часто Задаваемые вопросы"><link rel="appendix" href="bugreports.html" title="Приложение A. Как сообщать об ошибках"><link rel="appendix" href="skin.html" title="Приложение B. Формат скинов MPlayer"><link rel="subsection" href="menc-feat-vcd-dvd.html#menc-feat-vcd-dvd-constraints" title="7.8.1. Ограничения формата"><link rel="subsection" href="menc-feat-vcd-dvd.html#menc-feat-vcd-dvd-output" title="7.8.2. Опции вывода"><link rel="subsection" href="menc-feat-vcd-dvd.html#menc-feat-vcd-dvd-lavc" title="7.8.3. Использование libavcodec для VCD/SVCD/DVD кодирования"><link rel="subsection" href="menc-feat-vcd-dvd.html#menc-feat-vcd-dvd-audio" title="7.8.4. Кодирование звука"><link rel="subsection" href="menc-feat-vcd-dvd.html#menc-feat-vcd-dvd-all" title="7.8.5. Собирая все вместе"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.8. Использование <span class="application">MEncoder</span>
  для создания VCD/SVCD/DVD-совместимых файлов.</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="menc-feat-quicktime-7.html">Пред.</a> </td><th width="60%" align="center">Глава 7. Кодирование с <span class="application">MEncoder</span></th><td width="20%" align="right"> <a accesskey="n" href="faq.html">След.</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="menc-feat-vcd-dvd"></a>7.8. Использование <span class="application">MEncoder</span>
  для создания VCD/SVCD/DVD-совместимых файлов.</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-constraints"></a>7.8.1. Ограничения формата</h3></div></div></div><p>
<span class="application">MEncoder</span> способен создавать MPEG файлы VCD, SCVD
и DVD формата, используя библиотеку <code class="systemitem">libavcodec</code>.
Эти файлы затем могут быть использованы совместно с
<a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>
или
<a class="ulink" href="http://dvdauthor.sourceforge.net/" target="_top">dvdauthor</a>
для создания дисков, которые будут воспроизводиться на стандартном видео
проигрывателе.
</p><p>
DVD, SVCD, и VCD форматы обладают жесткими ограничениями. Доступен только небольшой выбор
размеров и пропорций кодируемого изображения.
Если Ваш фильм пока не удовлетворяет этим ограничениям, придется изображение
масштабировать, обрезать или добавлять к нему черные полосы, чтобы добиться
совместимости.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-resolution"></a>7.8.1.1. Ограничения форматов</h4></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col><col><col><col><col><col><col></colgroup><thead><tr><th>Формат</th><th>Разрешение</th><th>Вид. Кодек</th><th>Вид. Битпоток</th><th>Дискретизация</th><th>Ауд. Кодек</th><th>Ауд. Битпоток</th><th>FPS</th><th>Пропорции</th></tr></thead><tbody><tr><td>NTSC DVD</td><td>720x480, 704x480, 352x480, 352x240</td><td>MPEG-2</td><td>9800 кбит/с</td><td>48000 Гц</td><td>AC-3,PCM</td><td>1536 кбит/с (макс.)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9 (только для 720x480)</td></tr><tr><td>NTSC DVD</td><td>352x240<a href="#ftn.fn-rare-resolutions" class="footnote" name="fn-rare-resolutions"><sup class="footnote">[a]</sup></a></td><td>MPEG-1</td><td>1856 кбит/с</td><td>48000 Гц</td><td>AC-3,PCM</td><td>1536 кбит/с (макс.)</td><td>30000/1001, 24000/1001</td><td>4:3, 16:9</td></tr><tr><td>NTSC SVCD</td><td>480x480</td><td>MPEG-2</td><td>2600 кбит/с</td><td>44100 Гц</td><td>MP2</td><td>384 кбит/с (макс.)</td><td>30000/1001</td><td>4:3</td></tr><tr><td>NTSC VCD</td><td>352x240</td><td>MPEG-1</td><td>1150 кбит/с</td><td>44100 Гц</td><td>MP2</td><td>224 кбит/с</td><td>24000/1001, 30000/1001</td><td>4:3</td></tr><tr><td>PAL DVD</td><td>720x576, 704x576, 352x576, 352x288</td><td>MPEG-2</td><td>9800 кбит/с</td><td>48000 Гц</td><td>MP2,AC-3,PCM</td><td>1536 кбит/с (макс.)</td><td>25</td><td>4:3, 16:9 (только для 720x576)</td></tr><tr><td>PAL DVD</td><td>352x288<a href="menc-feat-vcd-dvd.html#ftn.fn-rare-resolutions" class="footnoteref"><sup class="footnoteref">[a]</sup></a></td><td>MPEG-1</td><td>1856 кбит/с</td><td>48000 Гц</td><td>MP2,AC-3,PCM</td><td>1536 кбит/с (макс.)</td><td>25</td><td>4:3, 16:9</td></tr><tr><td>PAL SVCD</td><td>480x576</td><td>MPEG-2</td><td>2600 кбит/с</td><td>44100 Гц</td><td>MP2</td><td>384 кбит/с (макс.)</td><td>25</td><td>4:3</td></tr><tr><td>PAL VCD</td><td>352x288</td><td>MPEG-1</td><td>1152 кбит/с</td><td>44100 Гц</td><td>MP2</td><td>224 кбит/с</td><td>25</td><td>4:3</td></tr></tbody><tbody class="footnotes"><tr><td colspan="9"><div id="ftn.fn-rare-resolutions" class="footnote"><p><a href="#fn-rare-resolutions" class="para"><sup class="para">[a] </sup></a>
  Эти разрешения редко используются для DVD, поскольку имеют довольно низкое
  качество.</p></div></td></tr></tbody></table></div><p>
Если Ваш фильм имеет пропорции 2.35:1 (большинство современных фильмов с обилием движения),
для создания DVD или VCD придется добавить черные полосы или обрезать фильм до
16:9. Добавляя черные полосы, пытайтесь выровнять их размеры на границу в 16 пикселов,
чтобы минимизировать влияние на производительность кодирования.
К счастью, DVD имеет достаточно избыточный битпоток, чтобы не сильно
беспокоиться об эффективности кодирования, но SVCD и VCD весьма ограничены в
битпотоке и требуют определенных усилий для достижения приемлемого качества.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-gop"></a>7.8.1.2. Ограничения на размер GOP</h4></div></div></div><p>
DVD, VCD, и SVCD также ограничивают Вас относительно низкими размерами
GOP (Group of Pictures, Группа Изображений).
Для материала с 30 fps максимальный допустимый размер GOP равен 18.
Для 25 или 24 fps, максимум равен 15.
Размер GOP устанавливается опцией <tt class="option">keyint</tt>.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-constraints-bitrate"></a>7.8.1.3. Ограничения на битпоток</h4></div></div></div><p>
VCD видео должно быть CBR с 1152 кбит/с.
Это сильное ограничение усугубляется, к тому же, чрезвычайно низким размером vbv
буфера, равным 327 килобит.
SVCD допускает различные значения видео битпотока вплоть до 2500 кбит/с и не
так сильно стесняющий размер vbv буфера, равный 917 килобит.
У DVD видео битпоток может свободно меняться вплоть до 9800 kbps (хотя обычный
поток равен примерно половине этого значения), а размер vbv буфера равен 1835
килобит.
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-output"></a>7.8.2. Опции вывода</h3></div></div></div><p>
У <span class="application">MEncoder</span> есть опции, управляющие выходным форматом.
Используя их, можно дать указание создать файл корректного типа.
</p><p>
Для VCD и SVCD опции называются xvcd и xsvcd, потому что они являются
расширенными форматами. Они не полностью совместимы, в основном, потому что не
содержат смещений развёртки. Если нужно создать образ SVCD, следует передать
выходной файл программе
<a class="ulink" href="http://www.gnu.org/software/vcdimager/vcdimager.html" target="_top">vcdimager</a>.
</p><p>
VCD:
</p><pre class="screen">-of mpeg -mpegopts format=xvcd</pre><p>
</p><p>
SVCD:
</p><pre class="screen">-of mpeg -mpegopts format=xsvcd</pre><p>
</p><p>
DVD (с временными метками на каждом кадре, если возможно):
</p><pre class="screen">-of mpeg -mpegopts format=dvd:tsaf</pre><p>
</p><p>
DVD с NTSC Pullup:
</p><pre class="screen">-of mpeg -mpegopts format=dvd:tsaf:telecine -ofps 24000/1001</pre><p>
Это делает возможным кодирование 24000/1001 fps построчного содержимого с
частотой 30000/1001 fps, с одновременным сохранением совместимости с DVD.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-aspect"></a>7.8.2.1. Пропорции</h4></div></div></div><p>
Аргумент aspect в <tt class="option">-lavcopts</tt> используется для кодирования
коэффициента пропорций файла.
Коэффициент пропорций используется в процессе воспроизведения для восстановления
правильного размера видео.
</p><p>
16:9 or "Широкоэкранный"
</p><pre class="screen">-lavcopts aspect=16/9</pre><p>
</p><p>
4:3 or "Полноэкранный"
</p><pre class="screen">-lavcopts aspect=4/3</pre><p>
</p><p>
2.35:1 or "Кинематографический" NTSC
</p><pre class="screen">-vf scale=720:368,expand=720:480 -lavcopts aspect=16/9</pre><p>
Для вычисления правильного размера масштабирования используйте расширенную
ширину NTSC 854/2.35 = 368
</p><p>
2.35:1 or "Кинематографический" PAL
</p><pre class="screen">-vf scale=720:432,expand=720:576 -lavcopts aspect=16/9</pre><p>
Для вычисления правильного размера масштабирования используйте расширинную
ширину PAL 1024/2.35 = 432
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-a-v-sync"></a>7.8.2.2. Сохранение A/V синхронизации</h4></div></div></div><p>
Для того, чтобы сохранять аудио/видео синхронизацию на протяжении всего
кодирования, <span class="application">MEncoder</span> должен выбрасывать или
дублировать кадры. Это довольно неплохо работает при мультиплексировании в AVI
файл, но с другими мультиплексорами, такими как MPEG, почти гарантировано
приведет к нарушению A/V синхронизации. Для избежания подобных проблем,
необходимо добавить видео фильтр <tt class="option">harddup</tt> в конец цепочки
фильтров. Дополнительную техническую информацию о <tt class="option">harddup</tt> можно
найти в разделе
<a class="link" href="menc-feat-dvd-mpeg4.html#menc-feat-dvd-mpeg4-muxing-filter-issues" title="7.1.12.1. Улучшение мультиплексирования и надёжности A/V синхронизации">Улучшение
мультиплексирования и надежности A/V синхронизации</a> или в man руководстве.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-output-srate"></a>7.8.2.3. Преобразование частоты дискретизации</h4></div></div></div><p>
Если частота дискретизации в оригинальном файле не совпадает с требуемой в
целевом формате, необходимо преобразование. Его можно осуществить, совместно
используя опцию <tt class="option">-srate</tt> и аудио фильтр<tt class="option">-af lavcresample</tt>.
</p><p>
DVD:
</p><pre class="screen">-srate 48000 -af lavcresample=48000</pre><p>
</p><p>
VCD и SVCD:
</p><pre class="screen">-srate 44100 -af lavcresample=44100</pre><p>
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-lavc"></a>7.8.3. Использование libavcodec для VCD/SVCD/DVD кодирования</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-intro"></a>7.8.3.1. Введение</h4></div></div></div><p>
  Используя соответствующие опции, можно применять
  <code class="systemitem">libavcodec</code> для создания VCD/SVCD/DVD
  совместимого видео.
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-options"></a>7.8.3.2. lavcopts</h4></div></div></div><p>
Это список полей в <tt class="option">-lavcopts</tt>, которые может потребоваться
изменить, чтобы создать совместимый фильм для VCD, SVCD или DVD:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
  <span class="bold"><strong>acodec</strong></span>:
  <tt class="option">mp2</tt> для VCD, SVCD, или PAL DVD;
  <tt class="option">ac3</tt> наиболее часто используется для DVD.
  Для DVD также может использоваться PCM, но это, по большей части, бесполезная
  трата свободного места. Имейте в виду, что MP3 аудио не совместимо ни с одним
  из этих форматов, но, как бы то ни было, часто проигрыватели не испытывают
  никаких проблем с его воспроизведением.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>abitrate</strong></span>:
  224 для VCD; вплоть до 384 для SVCD; вплоть до 1536 для DVD, но
  распространенным является диапазон значений от 192 кбит/с для стерео до 384
  кбит/с для 5.1 звука.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vcodec</strong></span>:
  <tt class="option">mpeg1video</tt> для VCD;
  <tt class="option">mpeg2video</tt> для SVCD;
  <tt class="option">mpeg2video</tt> обычно используется для DVD, но Вы также можете
  использовать
  <tt class="option">mpeg1video</tt> для CIF разрешений.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>keyint</strong></span>:
  Используется для установки размера GOP.
  18 для 30fps материала или 15 для 25/24 fps материала.
  Коммерческие изготовители, похоже, предпочитают значение интервала ключевых
  кадров, равное 12. Можно значительно увеличить это значение и все еще
  сохранять совместимость с большинством проигрывателей.
  <tt class="option">keyint</tt> равное 25 не должно вызывать никаких проблем.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_buf_size</strong></span>:
  327 для VCD, 917 для SVCD и 1835 ддя  DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_minrate</strong></span>:
  1152 для VCD. Может не указываться для SVCD и DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vrc_maxrate</strong></span>:
  1152 для VCD; 2500 для SVCD; 9800 для DVD.
  Для SVCD и DVD Вы, возможно, пожелаете использовать меньшие значения в
  зависимости от Ваших личных требований и предпочтений.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vbitrate</strong></span>:
  1152 для VCD;
  вплоть до 2500 для SVCD;
  вплоть до 9800 для DVD.
  Для двух последний форматов, vbitrate следует установить на основании личных
  предпочтений.
  Например, если Вы настаиваете на размещении 20 или около того часов видео на
  DVD, можете использовать vbitrate=400.
  Качество получившегося видео, возможно, будет довольно плохим.
  Если Вы пытаетесь выжать максимально возможное качество на DVD, используйте
  vbitrate=9800, но имейте в виду, что это ограничит Вас менее чем одним часом
  видео на однослойном DVD.
</p></li><li class="listitem"><p>
  <span class="bold"><strong>vstrict</strong></span>:
  <tt class="option">vstrict</tt>=0 следует использовать для создания DVD.
  Без этой опции <span class="application">MEncoder</span> создает поток, который не
  может быть корректно декодирован некоторыми аппаратными DVD проигрывателями.
</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-examples"></a>7.8.3.3. Примеры</h4></div></div></div><p>
  Это обычный минимальный набор <tt class="option">-lavcopts</tt> для кодирования видео:
</p><p>
VCD:
</p><pre class="screen">
-lavcopts vcodec=mpeg1video:vrc_buf_size=327:vrc_minrate=1152:\
vrc_maxrate=1152:vbitrate=1152:keyint=15:acodec=mp2
</pre><p>
</p><p>
SVCD:
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=917:vrc_maxrate=2500:vbitrate=1800:\
keyint=15:acodec=mp2
</pre><p>
</p><p>
DVD:
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:acodec=ac3
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-lavc-advanced"></a>7.8.3.4. Расширенные опции</h4></div></div></div><p>
Для достижения более высокого качества кодирования, Вы также можете
добавить опции lavcopts, улучшающие качество, такие как
<tt class="option">trell</tt>, <tt class="option">mbd=2</tt> и другие.
Обратите внимание, что <tt class="option">qpel</tt> и <tt class="option">v4mv</tt>,
часто полезные с MPEG-4, не применимы к MPEG-1 или MPEG-2.
Также, если Вы хотите выполнить очень высококачественное кодирование
DVD, может быть полезным добавление <tt class="option">dc=10</tt> в lavcopts.
Это может помочь подавить появление блоков в однородно окрашенных
областях. Подводя итог, вот пример настроек lavcopts для
высококачественного DVD:
</p><p>
</p><pre class="screen">
-lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=8000:\
keyint=15:trell:mbd=2:precmp=2:subcmp=2:cmp=2:dia=-10:predia=-10:cbp:mv0:\
vqmin=1:lmin=1:dc=10:vstrict=0
</pre><p>
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-audio"></a>7.8.4. Кодирование звука</h3></div></div></div><p>
VCD и SVCD поддерживают звук MPEG-1 layer II, используя одну из
<code class="systemitem">toolame</code>,
<code class="systemitem">twolame</code>,
или MP2 <code class="systemitem">libavcodec</code> кодировщик.
libavcodec MP2 не так хорош, как остальные две библиотеки, однако, он должен
быть всегда доступен для использования.
VCD поддерживает только звук с постоянным битпотоком (CBR), в то время как SVCD
также поддерживает и переменный (VBR). Будьте осторожны, используя VBR,
поскольку некоторые плохие аппаратные проигрыватели могут не очень хорошо его
поддерживать.
</p><p>
Для DVD звука используется AC-3 кодек из <code class="systemitem">libavcodec</code>.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-toolame"></a>7.8.4.1. toolame</h4></div></div></div><p>
Для VCD и SVCD:
</p><pre class="screen">-oac toolame -toolameopts br=224</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-twolame"></a>7.8.4.2. twolame</h4></div></div></div><p>
Для VCD и SVCD:
</p><pre class="screen">-oac twolame -twolameopts br=224</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-audio-lavc"></a>7.8.4.3. libavcodec</h4></div></div></div><p>
Для 2 канального DVD звука:
</p><pre class="screen">-oac lavc -lavcopts acodec=ac3:abitrate=192</pre><p>
</p><p>
Для DVD с 5.1 звуком:
</p><pre class="screen">-channels 6 -oac lavc -lavcopts acodec=ac3:abitrate=384</pre><p>
</p><p>
Для VCD и SVCD:
</p><pre class="screen">-oac lavc -lavcopts acodec=mp2:abitrate=224</pre><p>
</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="menc-feat-vcd-dvd-all"></a>7.8.5. Собирая все вместе</h3></div></div></div><p>
Этот раздел демонстрирует некоторые полные команды для создания VCD/SVCD/DVD
совместимого видео.
</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-dvd"></a>7.8.5.1. PAL DVD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:576,harddup -srate 48000 -af lavcresample=48000 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:acodec=ac3:abitrate=192:aspect=16/9 -ofps 25 \
  -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-dvd"></a>7.8.5.2. NTSC DVD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:480,harddup -srate 48000 -af lavcresample=48000 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=18:vstrict=0:acodec=ac3:abitrate=192:aspect=16/9 -ofps 30000/1001 \
  -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-ac3-copy"></a>7.8.5.3. PAL AVI, содержащий AC-3 звук, в DVD</h4></div></div></div><p>
Если исходный материал уже содержит AC-3 звук, используйте -oac copy вместо
перекодирования.
</p><pre class="screen">
mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf \
  -vf scale=720:576,harddup -ofps 25 \
  -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:vrc_maxrate=9800:vbitrate=5000:\
keyint=15:vstrict=0:aspect=16/9 -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-ac3-copy"></a>7.8.5.4. NTSC AVI, содержащий AC-3 звук, в DVD</h4></div></div></div><p>
Если исходный материал уже содержит AC-3 звук и является NTSC @ 24000/1001 fps:
</p><pre class="screen">
mencoder -oac copy -ovc lavc -of mpeg -mpegopts format=dvd:tsaf:telecine \
  -vf scale=720:480,harddup -lavcopts vcodec=mpeg2video:vrc_buf_size=1835:\
  vrc_maxrate=9800:vbitrate=5000:keyint=15:vstrict=0:aspect=16/9 -ofps 24000/1001 \
  -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-svcd"></a>7.8.5.5. PAL SVCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd -vf \
    scale=480:576,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg2video:mbd=2:keyint=15:vrc_buf_size=917:vrc_minrate=600:\
vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224:aspect=16/9 -ofps 25 \
    -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-svcd"></a>7.8.5.6. NTSC SVCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xsvcd  -vf \
    scale=480:480,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg2video:mbd=2:keyint=18:vrc_buf_size=917:vrc_minrate=600:\
vbitrate=2500:vrc_maxrate=2500:acodec=mp2:abitrate=224:aspect=16/9 -ofps 30000/1001 \
    -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-pal-vcd"></a>7.8.5.7. PAL VCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
    scale=352:288,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg1video:keyint=15:vrc_buf_size=327:vrc_minrate=1152:\
vbitrate=1152:vrc_maxrate=1152:acodec=mp2:abitrate=224:aspect=16/9 -ofps 25 \
    -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="menc-feat-vcd-dvd-all-ntsc-vcd"></a>7.8.5.8. NTSC VCD</h4></div></div></div><p>
</p><pre class="screen">
mencoder -oac lavc -ovc lavc -of mpeg -mpegopts format=xvcd -vf \
    scale=352:240,harddup -srate 44100 -af lavcresample=44100 -lavcopts \
    vcodec=mpeg1video:keyint=18:vrc_buf_size=327:vrc_minrate=1152:\
vbitrate=1152:vrc_maxrate=1152:acodec=mp2:abitrate=224:aspect=16/9 -ofps 30000/1001 \
    -o <em class="replaceable"><code>фильм.mpg</code></em> <em class="replaceable"><code>фильм.avi</code></em>
</pre><p>
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="menc-feat-quicktime-7.html">Пред.</a> </td><td width="20%" align="center"><a accesskey="u" href="encoding-guide.html">Наверх</a></td><td width="40%" align="right"> <a accesskey="n" href="faq.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">7.7. Использование <span class="application">MEncoder</span>
для создания совместимых с <span class="application">QuickTime</span>
файлов </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Глава 8. Часто Задаваемые вопросы</td></tr></table></div></body></html>
